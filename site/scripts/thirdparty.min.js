/* gskinner-com 2023-08-23 */
!function(){var y,H=0,f={},F=+new Date+"",D=/($^)/,$=/['\n\r\t\u2028\u2029\\]/g,z="[object Arguments]",L="[object Array]",q="[object Boolean]",U="[object Date]",X="[object Function]",W="[object Number]",Y="[object Object]",B="[object RegExp]",V="[object String]",p={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},G={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},n=p[typeof window]&&window||this,t=p[typeof exports]&&exports&&!exports.nodeType&&exports,e=p[typeof module]&&module&&!module.nodeType&&module,J=e&&e.exports===t&&t,i=p[typeof global]&&global;function Z(t,e,n){for(var i=(n||0)-1,r=t?t.length:0;++i<r;)if(t[i]===e)return i;return-1}function K(t,e){for(var n=t.criteria,i=e.criteria,r=-1,o=n.length;++r<o;){var s=n[r],u=i[r];if(s!==u){if(u<s||void 0===s)return 1;if(s<u||void 0===u)return-1}}return t.index-e.index}function Q(t){return"\\"+G[t]}function v(t,e,n){for(var i=-1,r=(n=void 0===n?t?t.length:0:n)-(e=e||0)||0,o=Array(r<0?0:r);++i<r;)o[i]=t[e+i];return o}!i||i.global!==i&&i.window!==i||(n=i);var r=[],i=Object.prototype,tt=n._,d=i.toString,et=RegExp("^"+String(d).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),nt=Math.ceil,it=Math.floor,g=i.hasOwnProperty,m=r.push,rt=i.propertyIsEnumerable,o=w(o=Object.create)&&o,i=w(i=Array.isArray)&&i,ot=n.isFinite,st=n.isNaN,s=w(s=Object.keys)&&s,_=Math.max,u=Math.min,ut=Math.random;function b(t){return t instanceof b?t:new a(t)}function a(t,e){this.__chain__=!!e,this.__wrapped__=t}a.prototype=b.prototype;var at={};function ct(t){var r=t[0],o=t[2],s=t[4];return function t(){var e,n,i;return o&&(e=v(o),m.apply(e,arguments)),this instanceof t?(n=lt(r.prototype),O(i=r.apply(n,e||arguments))?i:n):r.apply(s,e||arguments)}}function lt(t,e){return O(t)?o(t):{}}function ht(){}function ft(r,o,t){if("function"!=typeof r)return Gt;if(void 0===o||!("prototype"in r))return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)};case 4:return function(t,e,n,i){return r.call(o,t,e,n,i)}}return Bt(r,o)}function pt(t){var r=t[0],o=t[1],s=t[2],u=t[3],a=t[4],c=t[5],l=1&o,h=2&o,f=4&o,p=8&o,d=r;return function t(){var e,n,i=l?a:this;return s&&(e=v(s),m.apply(e,arguments)),(u||f)&&(e=e||v(arguments),u&&m.apply(e,u),f&&e.length<c)?(o|=16,pt([r,p?o:-4&o,e,null,a,c])):(e=e||arguments,h&&(r=i[d]),this instanceof t?(i=lt(r.prototype),O(n=r.apply(i,e))?n:i):r.apply(i,e))}}function dt(t,e){for(var n=-1,i=l(),r=t?t.length:0,o=[];++n<r;){var s=t[n];i(e,s)<0&&o.push(s)}return o}function h(t,e,n,i){for(var r=(i||0)-1,o=t?t.length:0,s=[];++r<o;){var u=t[r];if(u&&"object"==typeof u&&"number"==typeof u.length&&(E(u)||T(u))){var a=-1,c=(u=e?u:h(u,e,n)).length,l=s.length;for(s.length+=c;++a<c;)s[l++]=u[a]}else n||s.push(u)}return s}function vt(t,e){return t+it(ut()*(e-t+1))}function gt(t,e,n){for(var i=-1,r=l(),o=t?t.length:0,s=[],u=n?[]:s;++i<o;){var a=t[i],c=n?n(a,i,t):a;(e?!i||u[u.length-1]!==c:r(u,c)<0)&&(n&&u.push(c),s.push(a))}return s}function mt(u){return function(t,i,e){var r={},n=(i=k(i,e,3),-1),o=t?t.length:0;if("number"==typeof o)for(;++n<o;){var s=t[n];u(r,s,i(s,n,t),t)}else S(t,function(t,e,n){u(r,t,i(t,e,n),n)});return r}}function c(t,e,n,i,r,o){var s=16&e,u=32&e;if(2&e||j(t))return s&&!n.length&&(e&=-17,n=!1),u&&!i.length&&(e&=-33,i=!1),(1==e||17===e?ct:pt)([t,e,n,i,r,o]);throw new TypeError}function yt(t){return bt[t]}function l(){var t=(t=b.indexOf)===Ut?Z:t;return t}function w(t){return"function"==typeof t&&et.test(t)}function _t(t){return wt[t]}function T(t){return t&&"object"==typeof t&&"number"==typeof t.length&&d.call(t)==z||!1}R={0:1,length:1},at.spliceObjects=(r.splice.call(R,0,1),!R[0]),b.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:""},o||(lt=function(t){var e;return O(t)&&(ht.prototype=t,e=new ht,ht.prototype=null),e||n.Object()}),T(arguments)||(T=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&g.call(t,"callee")&&!rt.call(t,"callee")||!1});var E=i||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&d.call(t)==L||!1},x=s?function(t){return O(t)?s(t):[]}:function(t){var e,n=t,i=[];if(!n)return i;if(!p[typeof t])return i;for(e in n)g.call(n,e)&&i.push(e);return i},bt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},wt=St(bt),Tt=RegExp("("+x(wt).join("|")+")","g"),Et=RegExp("["+x(bt).join("")+"]","g");function xt(t){if(!t)return t;for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];if(i)for(var r in i)t[r]=i[r]}return t}function At(t){if(!t)return t;for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];if(i)for(var r in i)void 0===t[r]&&(t[r]=i[r])}return t}var A=function(t,e){var n,i=t,r=i;if(!i)return r;if(!p[typeof i])return r;for(n in i)if(e(i[n],n,t)===f)return r;return r},S=function(t,e){var n,i=t,r=i;if(!i)return r;if(!p[typeof i])return r;for(n in i)if(g.call(i,n)&&e(i[n],n,t)===f)return r;return r};function I(t){var n=[];return A(t,function(t,e){j(t)&&n.push(e)}),n.sort()}function St(t){for(var e=-1,n=x(t),i=n.length,r={};++e<i;){var o=n[e];r[t[o]]=o}return r}function It(t){if(!t)return!0;if(E(t)||Ot(t))return!t.length;for(var e in t)if(g.call(t,e))return!1;return!0}function j(t){return"function"==typeof t}function O(t){return!(!t||!p[typeof t])}function jt(t){return"number"==typeof t||t&&"object"==typeof t&&d.call(t)==W||!1}function Ot(t){return"string"==typeof t||t&&"object"==typeof t&&d.call(t)==V||!1}function Rt(t){for(var e=-1,n=x(t),i=n.length,r=Array(i);++e<i;)r[e]=t[n[e]];return r}function Nt(t,e){var n=l(),i=t?t.length:0,r=!1;return i&&"number"==typeof i?r=-1<n(t,e):S(t,function(t){return(r=t===e)&&f}),r}j(/x/)&&(j=function(t){return"function"==typeof t&&d.call(t)==X});var R=mt(function(t,e,n){g.call(t,n)?t[n]++:t[n]=1});function Pt(t,i,e){var r=!0,n=(i=k(i,e,3),-1),o=t?t.length:0;if("number"==typeof o)for(;++n<o&&(r=!!i(t[n],n,t)););else S(t,function(t,e,n){return!(r=!!i(t,e,n))&&f});return r}function N(t,i,e){var r=[],n=(i=k(i,e,3),-1),o=t?t.length:0;if("number"==typeof o)for(;++n<o;){var s=t[n];i(s,n,t)&&r.push(s)}else S(t,function(t,e,n){i(t,e,n)&&r.push(t)});return r}function Mt(t,i,e){i=k(i,e,3);var r,n=-1,o=t?t.length:0;if("number"!=typeof o)return S(t,function(t,e,n){if(i(t,e,n))return r=t,f}),r;for(;++n<o;){var s=t[n];if(i(s,n,t))return s}}function P(t,e,n){var i=-1,r=t?t.length:0;if(e=e&&void 0===n?e:ft(e,n,3),"number"==typeof r)for(;++i<r&&e(t[i],i,t)!==f;);else S(t,e)}var i=mt(function(t,e,n){(g.call(t,n)?t[n]:t[n]=[]).push(e)}),kt=mt(function(t,e,n){t[n]=e});function M(t,i,e){var r=-1,n=t?t.length:0;if(i=k(i,e,3),"number"==typeof n)for(var o=Array(n);++r<n;)o[r]=i(t[r],r,t);else o=[],S(t,function(t,e,n){o[++r]=i(t,e,n)});return o}function Ct(t,i,e){var r=-1/0,o=r,n=("function"!=typeof i&&e&&e[i]===t&&(i=null),-1),s=t?t.length:0;if(null==i&&"number"==typeof s)for(;++n<s;){var u=t[n];o<u&&(o=u)}else i=k(i,e,3),P(t,function(t,e,n){e=i(t,e,n);r<e&&(r=e,o=t)});return o}var Ht=M;function Ft(t,i,r,e){if(!t)return r;var o=arguments.length<3,n=(i=k(i,e,4),-1),s=t.length;if("number"==typeof s)for(o&&(r=t[++n]);++n<s;)r=i(r,t[n],n,t);else S(t,function(t,e,n){r=o?(o=!1,t):i(r,t,e,n)});return r}function Dt(t,i,r,e){var o=arguments.length<3,n=(i=k(i,e,4),t),s=function(t,e,n){r=o?(o=!1,t):i(r,t,e,n)};if("number"==typeof(a=n?n.length:0))for(;a--&&!1!==s(n[a],a,n););else{var u=x(n),a=u.length;S(n,function(t,e,n){return e=u?u[--a]:--a,!1===s(n[e],e,n)&&f})}return r}function $t(t){var n=-1,e=t?t.length:0,i=Array("number"==typeof e?e:0);return P(t,function(t){var e=vt(0,++n);i[n]=i[e],i[e]=t}),i}function zt(t,i,e){i=k(i,e,3);var r,n=-1,o=t?t.length:0;if("number"==typeof o)for(;++n<o&&!(r=i(t[n],n,t)););else S(t,function(t,e,n){return(r=i(t,e,n))&&f});return!!r}function Lt(t,e,n){return n&&It(e)?y:(n?Mt:N)(t,e)}function qt(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var o=-1;for(e=k(e,n,3);++o<r&&e(t[o],o,t);)i++}else if(null==(i=e)||n)return t?t[0]:y;return v(t,0,u(_(0,i),r))}function Ut(t,e,n){if("number"==typeof n){var i=t?t.length:0;n=n<0?_(0,i+n):n||0}else if(n)return t[i=Wt(t,e)]===e?i:-1;return Z(t,e,n)}function Xt(t,e,n){if("number"!=typeof e&&null!=e){var i=0,r=-1,o=t?t.length:0;for(e=k(e,n,3);++r<o&&e(t[r],r,t);)i++}else i=null==e||n?1:_(0,e);return v(t,i)}function Wt(t,e,n,i){var r=0,o=t?t.length:r;for(e=(n=n?k(n,i,1):Gt)(e);r<o;){var s=r+o>>>1;n(t[s])<e?r=1+s:o=s}return r}function Yt(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),gt(t,e,n=null!=n?k(n,i,3):n)}function Bt(t,e){return 2<arguments.length?c(t,17,v(arguments,2),null,e):c(t,1,null,null,e)}function Vt(i,r,t){var o,s,u,a,c,l,h,f,p=0,d=!1,v=!0;if(!j(i))throw new TypeError;r=_(0,r)||0,!0===t?v=!(f=!0):O(t)&&(f=t.leading,d="maxWait"in t&&(_(r,t.maxWait)||0),v="trailing"in t?t.trailing:v);function g(){var t,e=r-(C()-a);e<=0?(s&&clearTimeout(s),t=h,s=l=h=y,t&&(p=C(),u=i.apply(c,o),l||s||(o=c=null))):l=setTimeout(g,e)}function m(){l&&clearTimeout(l),s=l=h=y,!v&&d===r||(p=C(),u=i.apply(c,o),l||s||(o=c=null))}return function(){var t,e,n;return o=arguments,a=C(),c=this,h=v&&(l||!f),!1===d?t=f&&!l:(n=(e=d-(a-(p=s||f?p:a)))<=0)?(s=s&&clearTimeout(s),p=a,u=i.apply(c,o)):s=s||setTimeout(m,e),n&&l?l=clearTimeout(l):l||r===d||(l=setTimeout(g,r)),t&&(n=!0,u=i.apply(c,o)),!n||l||s||(o=c=null),u}}function k(i,t,e){var n,r=typeof i;if(null==i||"function"==r)return ft(i,t,e);if("object"!=r)return n=i,function(t){return t[n]};var o=x(i);return function(t){for(var e=o.length,n=!1;e--&&(n=t[o[e]]===i[o[e]]););return n}}function Gt(t){return t}function Jt(n){P(I(n),function(t){var e=b[t]=n[t];b.prototype[t]=function(){var t=[this.__wrapped__],t=(m.apply(t,arguments),e.apply(b,t));return this.__chain__?new a(t,!0):t}})}var C=w(C=Date.now)&&C||function(){return(new Date).getTime()};b.after=function(t,e){if(j(e))return function(){if(--t<1)return e.apply(this,arguments)};throw new TypeError},b.bind=Bt,b.bindAll=function(t){for(var e=1<arguments.length?h(arguments,!0,!1,1):I(t),n=-1,i=e.length;++n<i;){var r=e[n];t[r]=c(t[r],1,null,null,t)}return t},b.chain=function(t){return(t=new a(t)).__chain__=!0,t},b.compact=function(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var r=t[e];r&&i.push(r)}return i},b.compose=function(){for(var n=arguments,t=n.length;t--;)if(!j(n[t]))throw new TypeError;return function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}},b.countBy=R,b.debounce=Vt,b.defaults=At,b.defer=function(t){if(!j(t))throw new TypeError;var e=v(arguments,1);return setTimeout(function(){t.apply(y,e)},1)},b.delay=function(t,e){if(!j(t))throw new TypeError;var n=v(arguments,2);return setTimeout(function(){t.apply(y,n)},e)},b.difference=function(t){return dt(t,h(arguments,!0,!0,1))},b.filter=N,b.flatten=function(t,e){return h(t,e)},b.forEach=P,b.functions=I,b.groupBy=i,b.indexBy=kt,b.initial=function(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var o=r;for(e=k(e,n,3);o--&&e(t[o],o,t);)i++}else i=null==e||n?1:e||i;return v(t,0,u(_(0,r-i),r))},b.intersection=function(){for(var t=[],e=-1,n=arguments.length;++e<n;){var i=arguments[e];(E(i)||T(i))&&t.push(i)}var r=t[0],o=-1,s=l(),u=r?r.length:0,a=[];t:for(;++o<u;)if(s(a,i=r[o])<0){for(e=n;--e;)if(s(t[e],i)<0)continue t;a.push(i)}return a},b.invert=St,b.invoke=function(t,e){var n=v(arguments,2),i=-1,r="function"==typeof e,o=t?t.length:0,s=Array("number"==typeof o?o:0);return P(t,function(t){s[++i]=(r?e:t[e]).apply(t,n)}),s},b.keys=x,b.map=M,b.max=Ct,b.memoize=function(e,n){var i={};return function(){var t=n?n.apply(this,arguments):F+arguments[0];return g.call(i,t)?i[t]:i[t]=e.apply(this,arguments)}},b.min=function(t,i,e){var r=1/0,o=r,n=("function"!=typeof i&&e&&e[i]===t&&(i=null),-1),s=t?t.length:0;if(null==i&&"number"==typeof s)for(;++n<s;){var u=t[n];u<o&&(o=u)}else i=k(i,e,3),P(t,function(t,e,n){e=i(t,e,n);e<r&&(r=e,o=t)});return o},b.omit=function(t){for(var n=[],e=(A(t,function(t,e){n.push(e)}),-1),i=(n=dt(n,h(arguments,!0,!1,1))).length,r={};++e<i;){var o=n[e];r[o]=t[o]}return r},b.once=function(t){var e,n;if(j(t))return function(){return e||(e=!0,n=t.apply(this,arguments),t=null),n};throw new TypeError},b.pairs=function(t){for(var e=-1,n=x(t),i=n.length,r=Array(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r},b.partial=function(t){return c(t,16,v(arguments,1))},b.pick=function(t){for(var e=-1,n=h(arguments,!0,!1,1),i=n.length,r={};++e<i;){var o=n[e];o in t&&(r[o]=t[o])}return r},b.pluck=Ht,b.range=function(t,e,n){t=+t||0,null==e&&(e=t,t=0);for(var i=-1,r=_(0,nt((e-t)/(n=+n||1))),o=Array(r);++i<r;)o[i]=t,t+=n;return o},b.reject=function(t,i,e){return i=k(i,e,3),N(t,function(t,e,n){return!i(t,e,n)})},b.rest=Xt,b.shuffle=$t,b.sortBy=function(t,i,e){var r=-1,n=t?t.length:0,o=Array("number"==typeof n?n:0);for(i=k(i,e,3),P(t,function(t,e,n){o[++r]={criteria:[i(t,e,n)],index:r,value:t}}),n=o.length,o.sort(K);n--;)o[n]=o[n].value;return o},b.tap=function(t,e){return e(t),t},b.throttle=function(t,e,n){var i=!0,r=!0;if(j(t))return!1===n?i=!1:O(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),(n={}).leading=i,n.maxWait=e,n.trailing=r,Vt(t,e,n);throw new TypeError},b.times=function(t,e,n){t=-1<(t=+t)?t:0;var i=-1,r=Array(t);for(e=ft(e,n,1);++i<t;)r[i]=e(i);return r},b.toArray=function(t){return(E(t)?v:t&&"number"==typeof t.length?M:Rt)(t)},b.union=function(){return gt(h(arguments,!0,!0))},b.uniq=Yt,b.values=Rt,b.where=Lt,b.without=function(t){return dt(t,v(arguments,1))},b.wrap=function(t,e){return c(e,16,[t])},b.zip=function(){for(var t=-1,e=Ct(Ht(arguments,"length")),n=Array(e<0?0:e);++t<e;)n[t]=Ht(arguments,t);return n},b.collect=M,b.drop=Xt,b.each=P,b.extend=xt,b.methods=I,b.object=function(t,e){var n=-1,i=t?t.length:0,r={};for(e||!i||E(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r},b.select=N,b.tail=Xt,b.unique=Yt,b.clone=function(t){return O(t)?E(t)?v(t):xt({},t):t},b.contains=Nt,b.escape=function(t){return null==t?"":String(t).replace(Et,yt)},b.every=Pt,b.find=Mt,b.has=function(t,e){return!!t&&g.call(t,e)},b.identity=Gt,b.indexOf=Ut,b.isArguments=T,b.isArray=E,b.isBoolean=function(t){return!0===t||!1===t||t&&"object"==typeof t&&d.call(t)==q||!1},b.isDate=function(t){return t&&"object"==typeof t&&d.call(t)==U||!1},b.isElement=function(t){return t&&1===t.nodeType||!1},b.isEmpty=It,b.isEqual=function(t,e){return function i(r,t,o,s){if(r===t)return 0!==r||1/r==1/t;if(!(r!=r||r&&p[typeof r]||t&&p[typeof t]))return!1;if(null==r||null==t)return r===t;var e=d.call(r);if(e!=d.call(t))return!1;switch(e){case q:case U:return+r==+t;case W:return r!=+r?t!=+t:0==r?1/r==1/t:r==+t;case B:case V:return r==String(t)}var n=e==L;if(!n){var u=r instanceof b,a=t instanceof b;if(u||a)return i(u?r.__wrapped__:r,a?t.__wrapped__:t,o,s);if(e!=Y)return!1;if(u=r.constructor,a=t.constructor,u!=a&&!(j(u)&&u instanceof u&&j(a)&&a instanceof a)&&"constructor"in r&&"constructor"in t)return!1}s=s||[];for(var c=(o=o||[]).length;c--;)if(o[c]==r)return s[c]==t;var l=!0,h=0;if(o.push(r),s.push(t),n){if(h=t.length,l=h==r.length)for(;h--&&(l=i(r[h],t[h],o,s)););}else A(t,function(t,e,n){if(g.call(n,e))return h++,!(l=g.call(r,e)&&i(r[e],t,o,s))&&f}),l&&A(r,function(t,e,n){if(g.call(n,e))return!(l=-1<--h)&&f});return o.pop(),s.pop(),l}(t,e)},b.isFinite=function(t){return ot(t)&&!st(parseFloat(t))},b.isFunction=j,b.isNaN=function(t){return jt(t)&&t!=+t},b.isNull=function(t){return null===t},b.isNumber=jt,b.isObject=O,b.isRegExp=function(t){return t&&p[typeof t]&&d.call(t)==B||!1},b.isString=Ot,b.isUndefined=function(t){return void 0===t},b.lastIndexOf=function(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(n<0?_(0,i+n):u(n,i-1))+1);i--;)if(t[i]===e)return i;return-1},b.mixin=Jt,b.noConflict=function(){return n._=tt,this},b.random=function(t,e){return null==t&&null==e&&(e=1),t=+t||0,null==e?(e=t,t=0):e=+e||0,t+it(ut()*(e-t+1))},b.reduce=Ft,b.reduceRight=Dt,b.result=function(t,e){var n;if(t)return j(n=t[e])?t[e]():n},b.size=function(t){var e=t?t.length:0;return"number"==typeof e?e:x(t).length},b.some=zt,b.sortedIndex=Wt,b.template=function(o,t,e){var n=b,i=n.templateSettings,s=(o=String(o||""),e=At({},e,i),0),u="__p += '",i=e.variable,e=RegExp((e.escape||D).source+"|"+(e.interpolate||D).source+"|"+(e.evaluate||D).source+"|$","g");o.replace(e,function(t,e,n,i,r){return u+=o.slice(s,r).replace($,Q),e&&(u+="' +\n_.escape("+e+") +\n'"),i&&(u+="';\n"+i+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),s=r+t.length,t}),u+="';\n",i||(u="with ("+(i="obj")+" || {}) {\n"+u+"\n}\n"),u="function("+i+") {\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"+u+"return __p\n}";try{var r=Function("_","return "+u)(n)}catch(t){throw t.source=u,t}return t?r(t):(r.source=u,r)},b.unescape=function(t){return null==t?"":String(t).replace(Tt,_t)},b.uniqueId=function(t){var e=++H+"";return t?t+e:e},b.all=Pt,b.any=zt,b.detect=Mt,b.findWhere=function(t,e){return Lt(t,e,!0)},b.foldl=Ft,b.foldr=Dt,b.include=Nt,b.inject=Ft,b.first=qt,b.last=function(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var o=r;for(e=k(e,n,3);o--&&e(t[o],o,t);)i++}else if(null==(i=e)||n)return t?t[r-1]:y;return v(t,_(0,r-i))},b.sample=function(t,e,n){return t&&"number"!=typeof t.length&&(t=Rt(t)),null==e||n?t?t[vt(0,t.length-1)]:y:((n=$t(t)).length=u(_(0,e),n.length),n)},b.take=qt,b.head=qt,Jt(b),b.VERSION="2.4.1",b.prototype.chain=function(){return this.__chain__=!0,this},b.prototype.value=function(){return this.__wrapped__},P(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];b.prototype[t]=function(){var t=this.__wrapped__;return e.apply(t,arguments),at.spliceObjects||0!==t.length||delete t[0],this}}),P(["concat","join","slice"],function(t){var e=r[t];b.prototype[t]=function(){var t=this.__wrapped__,t=e.apply(t,arguments);return this.__chain__&&((t=new a(t)).__chain__=!0),t}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(n._=b,define(function(){return b})):t&&e?J?(e.exports=b)._=b:t._=b:n._=b}.call(this),function(i,r){var t;"function"==typeof define&&define.amd?define(["underscore","jquery","exports"],function(t,e,n){i.Backbone=r(i,n,t,e)}):"undefined"!=typeof exports?(t=require("underscore"),r(i,exports,t)):i.Backbone=r(i,{},i._,i.jQuery||i.Zepto||i.ender||i.$)}(this,function(t,s,w,e){var n=t.Backbone,i=[],r=i.slice,o=(s.VERSION="1.1.2",s.$=e,s.noConflict=function(){return t.Backbone=n,this},s.emulateHTTP=!1,s.emulateJSON=!1,s.Events={on:function(t,e,n){return h(this,"on",t,[e,n])&&e&&(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this})),this},once:function(t,e,n){if(!h(this,"once",t,[e,n])||!e)return this;var i=this,r=w.once(function(){i.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var i,r,o,s,u,a,c,l;if(!this._events||!h(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(u=0,a=(s=t?[t]:w.keys(this._events)).length;u<a;u++)if(t=s[u],o=this._events[t]){if(this._events[t]=i=[],e||n)for(c=0,l=o.length;c<l;c++)r=o[c],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!h(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&u(n,e),i&&u(i,arguments),this},stopListening:function(t,e,n){var i=this._listeningTo;if(!i)return this;var r,o=!e&&!n;for(r in n||"object"!=typeof e||(n=this),t&&((i={})[t._listenId]=t),i)(t=i[r]).off(e,n,this),(o||w.isEmpty(t._events))&&delete this._listeningTo[r];return this}}),a=/\s+/,h=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(a.test(n)){for(var o=n.split(a),s=0,u=o.length;s<u;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},u=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],u=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,u);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}},T=(w.each({listenTo:"on",listenToOnce:"once"},function(i,t){o[t]=function(t,e,n){return((this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=w.uniqueId("l"))]=t)[i](e,n=n||"object"!=typeof e?n:this,this),this}}),o.bind=o.on,o.unbind=o.off,w.extend(s,o),s.Model=function(t,e){var n=t||{};e=e||{},this.cid=w.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=w.defaults({},n,w.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)}),c=(w.extend(T.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return w.clone(this.attributes)},sync:function(){return s.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return w.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r,o,s,u,a,c;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,!this._validate(r,n=n||{}))return!1;for(i in o=n.unset,t=n.silent,s=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=w.clone(this.attributes),this.changed={}),c=this.attributes,a=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]),r)e=r[i],w.isEqual(c[i],e)||s.push(i),w.isEqual(a[i],e)?delete this.changed[i]:this.changed[i]=e,o?delete c[i]:c[i]=e;if(!t){s.length&&(this._pending=n);for(var l=0,h=s.length;l<h;l++)this.trigger("change:"+s[l],this,c[s[l]],n)}if(u)return this;if(!t)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,w.extend({},e,{unset:!0}))},clear:function(t){var e,n={};for(e in this.attributes)n[e]=void 0;return this.set(n,w.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!w.isEmpty(this.changed):w.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&w.clone(this.changed);var e,n,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(n in t)w.isEqual(r[n],e=t[n])||((i=i||{})[n]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return w.clone(this._previousAttributes)},fetch:function(e){void 0===(e=e?w.clone(e):{}).parse&&(e.parse=!0);var n=this,i=e.success;return e.success=function(t){if(!n.set(n.parse(t,e),e))return!1;i&&i(n,t,e),n.trigger("sync",n,t,e)},R(this,e),this.sync("read",this,e)},save:function(t,e,n){var i,r=this.attributes;if(null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,n=w.extend({validate:!0},n),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=w.extend({},r,i)),void 0===n.parse&&(n.parse=!0);var o=this,s=n.success;return n.success=function(t){o.attributes=r;var e=o.parse(t,n);if(n.wait&&(e=w.extend(i||{},e)),w.isObject(e)&&!o.set(e,n))return!1;s&&s(o,t,n),o.trigger("sync",o,t,n)},R(this,n),"patch"==(t=this.isNew()?"create":n.patch?"patch":"update")&&(n.attrs=i),e=this.sync(t,this,n),i&&n.wait&&(this.attributes=r),e},destroy:function(e){e=e?w.clone(e):{};function n(){i.trigger("destroy",i,i.collection,e)}var i=this,r=e.success;if(e.success=function(t){(e.wait||i.isNew())&&n(),r&&r(i,t,e),i.isNew()||i.trigger("sync",i,t,e)},this.isNew())return e.success(),!1;R(this,e);var t=this.sync("delete",this,e);return e.wait||n(),t},url:function(){var t=w.result(this,"urlRoot")||w.result(this.collection,"url")||O();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},w.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=w.extend({},this.attributes,t);t=this.validationError=this.validate(t,e)||null;return!t||(this.trigger("invalid",this,t,w.extend(e,{validationError:t})),!1)}}),w.each(["keys","values","pairs","invert","pick","omit"],function(e){T.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.attributes),w[e].apply(w,t)}}),s.Collection=function(t,e){(e=e||{}).model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,w.extend({silent:!0},e))}),E={add:!0,remove:!0,merge:!0},l={add:!0,remove:!1},i=(w.extend(c.prototype,o,{model:T,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return s.sync.apply(this,arguments)},add:function(t,e){return this.set(t,w.extend({merge:!1},e,l))},remove:function(t,e){var n,i,r,o,s=!w.isArray(t);for(e=e||{},n=0,i=(t=s?[t]:w.clone(t)).length;n<i;n++)(o=t[n]=this.get(t[n]))&&(delete this._byId[o.id],delete this._byId[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,e.silent||(e.index=r,o.trigger("remove",o,this,e)),this._removeReference(o,e));return s?t[0]:t},set:function(t,e){(e=w.defaults({},e,E)).parse&&(t=this.parse(t,e));var n,i,r,o,s=!w.isArray(t),u=(t=s?t?[t]:[]:w.clone(t),e.at),a=this.model,c=this.comparator&&null==u&&!1!==e.sort,l=w.isString(this.comparator)?this.comparator:null,h=[],f=[],p={},d=e.add,v=e.merge,g=e.remove,m=!(c||!d||!g)&&[];for(_=0,b=t.length;_<b;_++){if(r=(i=t[_]||{})instanceof T?n=i:i[a.prototype.idAttribute||"id"],r=this.get(r))g&&(p[r.cid]=!0),v&&(i=i===n?n.attributes:i,e.parse&&(i=r.parse(i,e)),r.set(i,e),c&&!o&&r.hasChanged(l)&&(o=!0)),t[_]=r;else if(d){if(!(n=t[_]=this._prepareModel(i,e)))continue;h.push(n),this._addReference(n,e)}n=r||n,!m||!n.isNew()&&p[n.id]||m.push(n),p[n.id]=!0}if(g){for(_=0,b=this.length;_<b;++_)p[(n=this.models[_]).cid]||f.push(n);f.length&&this.remove(f,e)}if(h.length||m&&m.length)if(c&&(o=!0),this.length+=h.length,null!=u)for(_=0,b=h.length;_<b;_++)this.models.splice(u+_,0,h[_]);else{m&&(this.models.length=0);for(var y=m||h,_=0,b=y.length;_<b;_++)this.models.push(y[_])}if(o&&this.sort({silent:!0}),!e.silent){for(_=0,b=h.length;_<b;_++)(n=h[_]).trigger("add",n,this,e);(o||m&&m.length)&&this.trigger("sort",this,e)}return s?t[0]:t},reset:function(t,e){e=e||{};for(var n=0,i=this.models.length;n<i;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,w.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,w.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,w.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return r.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(n,t){return w.isEmpty(n)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var e in n)if(n[e]!==t.get(e))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(this.comparator)return t=t||{},w.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(w.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this;throw new Error("Cannot sort a set without a comparator")},pluck:function(t){return w.invoke(this.models,"get",t)},fetch:function(n){void 0===(n=n?w.clone(n):{}).parse&&(n.parse=!0);var i=n.success,r=this;return n.success=function(t){var e=n.reset?"reset":"set";r[e](t,n),i&&i(r,t,n),r.trigger("sync",r,t,n)},R(this,n),this.sync("read",this,n)},create:function(t,n){if(n=n?w.clone(n):{},!(t=this._prepareModel(t,n)))return!1;n.wait||this.add(t,n);var i=this,r=n.success;return n.success=function(t,e){n.wait&&i.add(t,n),r&&r(t,e,n)},t.save(null,n),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof T)return t;t=new((e=e?w.clone(e):{}).collection=this).model(t,e);return t.validationError?(this.trigger("invalid",this,t.validationError,e),!1):t},_addReference:function(t,e){null!=(this._byId[t.cid]=t).id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}}),w.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],function(e){c.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.models),w[e].apply(w,t)}}),w.each(["groupBy","countBy","sortBy","indexBy"],function(i){c.prototype[i]=function(e,t){var n=w.isFunction(e)?e:function(t){return t.get(e)};return w[i](this.models,n,t)}}),s.View=function(t){this.cid=w.uniqueId("view"),w.extend(this,w.pick(t=t||{},p)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()}),f=/^(\S+)\s*(.*)$/,p=["model","collection","el","id","attributes","className","tagName","events"],d=(w.extend(i.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof s.$?t:s.$(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},delegateEvents:function(t){if(!(t=t||w.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var n,i=t[e];(i=w.isFunction(i)?i:this[t[e]])&&(n=(e=e.match(f))[1],e=e[2],i=w.bind(i,this),n+=".delegateEvents"+this.cid,""===e?this.$el.on(n,i):this.$el.on(n,e,i))}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){var t;this.el?this.setElement(w.result(this,"el"),!1):(t=w.extend({},w.result(this,"attributes")),this.id&&(t.id=w.result(this,"id")),this.className&&(t.class=w.result(this,"className")),t=s.$("<"+w.result(this,"tagName")+">").attr(t),this.setElement(t,!1))}}),s.sync=function(t,e,n){var i,r=v[t],o=(w.defaults(n=n||{},{emulateHTTP:s.emulateHTTP,emulateJSON:s.emulateJSON}),{type:r,dataType:"json"}),t=(n.url||(o.url=w.result(e,"url")||O()),null!=n.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||e.toJSON(n))),n.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),!n.emulateHTTP||"PUT"!==r&&"DELETE"!==r&&"PATCH"!==r||(o.type="POST",n.emulateJSON&&(o.data._method=r),i=n.beforeSend,n.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",r),i)return i.apply(this,arguments)}),"GET"===o.type||n.emulateJSON||(o.processData=!1),"PATCH"===o.type&&d&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}),n.xhr=s.ajax(w.extend(o,n)));return e.trigger("request",e,t,n),t},!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent)),v={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"},e=(s.ajax=function(){return s.$.ajax.apply(s.$,arguments)},s.Router=function(t){(t=t||{}).routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)}),g=/\((.*?)\)/g,m=/(\(\?)?:\w+/g,y=/\*\w+/g,_=/[\-{}\[\]+?.,\\\^$|#\s]/g,b=(w.extend(e.prototype,o,{initialize:function(){},route:function(e,n,i){w.isRegExp(e)||(e=this._routeToRegExp(e)),w.isFunction(n)&&(i=n,n=""),i=i||this[n];var r=this;return s.history.route(e,function(t){t=r._extractParameters(e,t);r.execute(i,t),r.trigger.apply(r,["route:"+n].concat(t)),r.trigger("route",n,t),s.history.trigger("route",r,n,t)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,e){return s.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=w.result(this,"routes");for(var t,e=w.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(_,"\\$&").replace(g,"(?:$1)?").replace(m,function(t,e){return e?t:"([^/?]+)"}).replace(y,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return w.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}}),s.History=function(){this.handlers=[],w.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)}),x=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,S=/msie [\w.]+/,I=/\/$/,j=/#.*$/,O=(b.started=!1,w.extend(b.prototype,o,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){t=(t||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(t,e){return null==t&&(this._hasPushState||!this._wantsHashChange||e?(t=decodeURI(this.location.pathname+this.location.search),e=this.root.replace(I,""),t.indexOf(e)||(t=t.slice(e.length))):t=this.getHash()),t.replace(x,"")},start:function(t){if(b.started)throw new Error("Backbone.history has already been started");b.started=!0,this.options=w.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),e=document.documentMode,e=S.exec(navigator.userAgent.toLowerCase())&&(!e||e<=7),n=(this.root=("/"+this.root+"/").replace(A,"/"),e&&this._wantsHashChange&&(n=s.$('<iframe src="javascript:0" tabindex="-1">'),this.iframe=n.hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?s.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?s.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t,this.location);if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&n.hash&&(this.fragment=this.getHash().replace(x,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){s.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),b.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if((e=e===this.fragment&&this.iframe?this.getFragment(this.getHash(this.iframe)):e)===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),w.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(t,e){if(!b.started)return!1;e&&!0!==e||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(j,""),this.fragment!==t){if(""===(this.fragment=t)&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){n?(n=t.href.replace(/(javascript:|#).*$/,""),t.replace(n+"#"+e)):t.hash="#"+e}}),s.history=new b,T.extend=c.extend=e.extend=i.extend=b.extend=function(t,e){function n(){this.constructor=r}var i=this,r=t&&w.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)};w.extend(r,i,e);return n.prototype=i.prototype,r.prototype=new n,t&&w.extend(r.prototype,t),r.__super__=i.prototype,r},function(){throw new Error('A "url" property or function must be specified')}),R=function(e,n){var i=n.error;n.error=function(t){i&&i(e,t,n),e.trigger("error",e,t,n)}};return s}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function e(){return i.apply(this instanceof r&&t?this:t,n.concat(Array.prototype.slice.call(arguments)))}var n=Array.prototype.slice.call(arguments,1),i=this,r=function(){};return r.prototype=this.prototype,e.prototype=new r,e});var Handlebars=function(){var c=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),f=function(){"use strict";var t={},e=c,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,r=/[&<>"'`]/;function o(t){return n[t]||"&amp;"}t.extend=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};var s=Object.prototype.toString,u=(t.toString=s,function(t){return"function"==typeof t}),a=(u(/x/)&&(u=function(t){return"function"==typeof t&&"[object Function]"===s.call(t)}),t.isFunction=u,Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===s.call(t)});return t.isArray=a,t.escapeExpression=function(t){return t instanceof e?t.toString():t||0===t?r.test(t=""+t)?t.replace(i,o):t:""},t.isEmpty=function(t){return!t&&0!==t||!(!a(t)||0!==t.length)},t}(),p=function(){"use strict";var o=["description","fileName","lineNumber","message","name","number","stack"];function t(t,e){e&&e.firstLine&&(t+=" - "+(n=e.firstLine)+":"+e.firstColumn);for(var n,i=Error.prototype.constructor.call(this,t),r=0;r<o.length;r++)this[o[r]]=i[o[r]];n&&(this.lineNumber=n,this.column=e.firstColumn)}return t.prototype=new Error,t}(),u=function(){"use strict";var t={},i=f,o=p,c=(t.VERSION="1.3.0",t.COMPILER_REVISION=4,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},i.isArray),l=i.isFunction,r=i.toString,s="[object Object]";function e(t,e){var r;this.helpers=t||{},this.partials=e||{},(r=this).registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new o("Missing helper: '"+t+"'")}),r.registerHelper("blockHelperMissing",function(t,e){var n=e.inverse||function(){},i=e.fn;return!0===(t=l(t)?t.call(this):t)?i(this):!1===t||null==t?n(this):c(t)?0<t.length?r.helpers.each(t,e):n(this):i(t)}),r.registerHelper("each",function(t,e){var n,i=e.fn,r=e.inverse,o=0,s="";if(l(t)&&(t=t.call(this)),e.data&&(n=h(e.data)),t&&"object"==typeof t)if(c(t))for(var u=t.length;o<u;o++)n&&(n.index=o,n.first=0===o,n.last=o===t.length-1),s+=i(t[o],{data:n});else for(var a in t)t.hasOwnProperty(a)&&(n&&(n.key=a,n.index=o,n.first=0===o),s+=i(t[a],{data:n}),o++);return s=0===o?r(this):s}),r.registerHelper("if",function(t,e){return l(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),r.registerHelper("unless",function(t,e){return r.helpers.if.call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})}),r.registerHelper("with",function(t,e){if(l(t)&&(t=t.call(this)),!i.isEmpty(t))return e.fn(t)}),r.registerHelper("log",function(t,e){e=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;r.log(e,t)})}(t.HandlebarsEnvironment=e).prototype={constructor:e,logger:n,log:u,registerHelper:function(t,e,n){if(r.call(t)===s){if(n||e)throw new o("Arg not supported with multiple helpers");i.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){r.call(t)===s?i.extend(this.partials,t):this.partials[t]=e}};var n={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){n.level<=t&&n.methodMap[t]}};function u(t,e){n.log(t,e)}t.logger=n,t.log=u;var h=function(t){var e={};return i.extend(e,t),e};return t.createFrame=h,t}(),a=function(){"use strict";var t={},i=f,a=p,r=u.COMPILER_REVISION,o=u.REVISION_CHANGES;function c(t,n,i){function e(t,e){return n(t,(e=e||{}).data||i)}return e.program=t,e.depth=0,e}return t.checkRevision=function(t){var e,n=t&&t[0]||1;if(n!==r)throw n<r?(e=o[r],n=o[n],new a("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+e+") or downgrade your runtime to an older version ("+n+").")):new a("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},t.template=function(o,u){if(!u)throw new a("No environment passed to template");var s={escapeExpression:i.escapeExpression,invokePartial:function(t,e,n,i,r,o){var s=u.VM.invokePartial.apply(this,arguments);if(null!=s)return s;if(u.compile)return s={helpers:i,partials:r,data:o},r[e]=u.compile(t,{data:void 0!==o},u),r[e](n,s);throw new a("The partial "+e+" could not be compiled when running in runtime-only mode")},programs:[],program:function(t,e,n){var i=this.programs[t];return i=n?c(t,e,n):i||(this.programs[t]=c(t,e))},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(i.extend(n={},e),i.extend(n,t)),n},programWithDepth:u.VM.programWithDepth,noop:u.VM.noop,compilerInfo:null};return function(t,e){var n,i,r=(e=e||{}).partial?e:u,r=(e.partial||(n=e.helpers,i=e.partials),o.call(s,r,t,n,i,e.data));return e.partial||u.VM.checkRevision(s.compilerInfo),r}},t.programWithDepth=function(t,n,i){function e(t,e){return n.apply(this,[t,(e=e||{}).data||i].concat(r))}var r=Array.prototype.slice.call(arguments,3);return e.program=t,e.depth=r.length,e},t.program=c,t.invokePartial=function(t,e,n,i,r,o){if(i={partial:!0,helpers:i,partials:r,data:o},void 0===t)throw new a("The partial "+e+" could not be found");if(t instanceof Function)return t(n,i)},t.noop=function(){return""},t}();return function(){"use strict";function t(){var e=new n.HandlebarsEnvironment;return o.extend(e,n),e.SafeString=i,e.Exception=r,e.Utils=o,e.VM=s,e.template=function(t){return s.template(t,e)},e}var n=u,i=c,r=p,o=f,s=a,e=t();return e.create=t,e}()}();"document"in self&&("classList"in document.createElement("_")?function(){"use strict";var t,n,e=document.createElement("_");e.classList.add("c1","c2"),e.classList.contains("c2")||((t=function(t){var i=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){for(var e=arguments.length,n=0;n<e;n++)i.call(this,arguments[n])}})("add"),t("remove")),e.classList.toggle("c3",!1),e.classList.contains("c3")&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)})}():function(e){"use strict";if("Element"in e){var n="classList",t="prototype",e=e.Element[t],i=Object,o=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[t].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},u=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},a=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=a[t]=[],l=function(){return new a(this)};if(s[t]=Error[t],c.item=function(t){return this[t]||null},c.contains=function(t){return-1!==u(this,t+="")},c.add=function(){for(var t,e=arguments,n=0,i=e.length,r=!1;-1===u(this,t=e[n]+"")&&(this.push(t),r=!0),++n<i;);r&&this._updateClassName()},c.remove=function(){var t,e,n=arguments,i=0,r=n.length,o=!1;do{for(e=u(this,t=n[i]+"");-1!==e;)this.splice(e,1),o=!0,e=u(this,t)}while(++i<r);o&&this._updateClassName()},c.toggle=function(t,e){var n=this.contains(t+=""),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},c.toString=function(){return this.join(" ")},i.defineProperty){c={get:l,enumerable:!0,configurable:!0};try{i.defineProperty(e,n,c)}catch(t){-2146823252===t.number&&(c.enumerable=!1,i.defineProperty(e,n,c))}}else i[t].__defineGetter__&&e.__defineGetter__(n,l)}}(self)),function(){var t,u,a,c,l;c={},l={},a=u=function(s){if(a._eak_seen=c,l[s])return l[s];if(l[s]={},!c[s])throw new Error("Could not find module "+s);for(var t,e=c[s],n=e.deps,e=e.callback,i=[],r=0,o=n.length;r<o;r++)"exports"===n[r]?i.push(t={}):i.push(u(function(t){if("."!==t.charAt(0))return t;for(var e=t.split("/"),n=s.split("/").slice(0,-1),i=0,r=e.length;i<r;i++){var o=e[i];".."===o?n.pop():"."!==o&&n.push(o)}return n.join("/")}(n[r])));e=e.apply(this,i);return l[s]=t||e},(t=function(t,e,n){c[t]={deps:e,callback:n}})("promise/all",["./utils","exports"],function(t,e){"use strict";var n=t.isArray,a=t.isFunction;e.all=function(u){if(n(u))return new this(function(n,t){function i(t,e){r[t]=e,0==--o&&n(r)}var e,r=[],o=u.length;0===o&&n([]);for(var s=0;s<u.length;s++)(e=u[s])&&a(e.then)?e.then(function(e){return function(t){i(e,t)}}(s),t):i(s,e)});throw new TypeError("You must pass an array to all.")}}),t("promise/asap",["exports"],function(t){"use strict";function e(){for(var t=0;t<s.length;t++){var e=s[t];(0,e[0])(e[1])}s=[]}var n,i,r="undefined"!=typeof window?window:{},r=r.MutationObserver||r.WebKitMutationObserver,o="undefined"!=typeof global?global:this,s=[],u="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?function(){process.nextTick(e)}:r?(n=0,r=new r(e),i=document.createTextNode(""),r.observe(i,{characterData:!0}),function(){i.data=n=++n%2}):function(){o.setTimeout(e,1)};t.asap=function(t,e){1===s.push([t,e])&&u()}}),t("promise/cast",["exports"],function(t){"use strict";t.cast=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})}}),t("promise/config",["exports"],function(t){"use strict";var n={instrument:!1};t.config=n,t.configure=function(t,e){return 2!==arguments.length?n[t]:void(n[t]=e)}}),t("promise/polyfill",["./promise","./utils","exports"],function(t,e,n){"use strict";var i=t.Promise,r=e.isFunction;n.polyfill=function(){var e;"Promise"in window&&"cast"in window.Promise&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&(new window.Promise(function(t){e=t}),r(e))||(window.Promise=i)}}),t("promise/promise",["./config","./utils","./cast","./all","./race","./resolve","./reject","./asap","exports"],function(t,e,n,i,r,o,s,u,a){"use strict";function c(t){if(!b(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof c))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[];var e=this;function n(t){v(e,t)}try{t(function(t){p(e,t)},n)}catch(t){n(t)}}function l(t,e,n,i){var r,o,s,u,a=b(n);if(a)try{r=n(i),s=!0}catch(t){u=!0,o=t}else r=i,s=!0;f(e,r)||(a&&s?p(e,r):u?v(e,o):t===E?p(e,r):t===x&&v(e,r))}function h(t,e){for(var n=t._subscribers,i=t._detail,r=0;r<n.length;r+=3)l(e,n[r],n[r+e],i);t._subscribers=null}function f(e,n){var i,t=null;try{if(e===n)throw new TypeError("A promises callback cannot return that same promise.");if(_(n)&&(t=n.then,b(t)))return t.call(n,function(t){return!!i||(i=!0,void(n!==t?p:d)(e,t))},function(t){return!!i||(i=!0,void v(e,t))}),1}catch(t){return i||v(e,t),1}}function p(t,e){t!==e&&f(t,e)||d(t,e)}function d(t,e){t._state===w&&(t._state=T,t._detail=e,y.async(g,t))}function v(t,e){t._state===w&&(t._state=T,t._detail=e,y.async(m,t))}function g(t){h(t,t._state=E)}function m(t){h(t,t._state=x)}var y=t.config,_=(t.configure,e.objectOrFunction),b=e.isFunction,t=(e.now,n.cast),e=i.all,n=r.race,i=o.resolve,r=s.reject,o=u.asap,w=(y.async=o,void 0),T=0,E=1,x=2;c.prototype={constructor:c,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(t,e){var n,i,r,o,s=this,u=new this.constructor(function(){});return this._state?(n=arguments,y.async(function(){l(s._state,u,n[s._state-1],s._detail)})):(r=u,t=t,e=e,o=(i=(i=this)._subscribers).length,i[o]=r,i[o+E]=t,i[o+x]=e),u},catch:function(t){return this.then(null,t)}},c.all=e,c.cast=t,c.race=n,c.resolve=i,c.reject=r,a.Promise=c}),t("promise/race",["./utils","exports"],function(t,e){"use strict";var n=t.isArray;e.race=function(r){if(n(r))return new this(function(t,e){for(var n,i=0;i<r.length;i++)(n=r[i])&&"function"==typeof n.then?n.then(t,e):t(n)});throw new TypeError("You must pass an array to race.")}}),t("promise/reject",["exports"],function(t){"use strict";t.reject=function(n){return new this(function(t,e){e(n)})}}),t("promise/resolve",["exports"],function(t){"use strict";t.resolve=function(e){return new this(function(t){t(e)})}}),t("promise/utils",["exports"],function(t){"use strict";function e(t){return"function"==typeof t}var n=Date.now||function(){return(new Date).getTime()};t.objectOrFunction=function(t){return e(t)||"object"==typeof t&&null!==t},t.isFunction=e,t.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.now=n}),u("promise/polyfill").polyfill()}(),function(t){"use strict";var n=null;var n="undefined"!=typeof Float32Array?Float32Array:Array,i={create:function(t){var e=new n(16);return t&&i.set(e,t),e},set:function(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},identity:function(t){return(t=t||i.create())[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},inverse:function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],u=t[5],a=t[6],c=t[7],l=t[8],h=t[9],f=t[10],p=t[11],d=t[12],v=t[13],g=t[14],m=t[15],y=n*u-i*s,_=n*a-r*s,b=n*c-o*s,w=i*a-r*u,T=i*c-o*u,E=r*c-o*a,x=l*v-h*d,A=l*g-f*d,S=l*m-p*d,I=h*g-f*v,j=h*m-p*v,O=f*m-p*g,R=y*O-_*j+b*I+w*S-T*A+E*x;return R?((e=e||t)[0]=(u*O-a*j+c*I)*(t=1/R),e[1]=(-i*O+r*j-o*I)*t,e[2]=(v*E-g*T+m*w)*t,e[3]=(-h*E+f*T-p*w)*t,e[4]=(-s*O+a*S-c*A)*t,e[5]=(n*O-r*S+o*A)*t,e[6]=(-d*E+g*b-m*_)*t,e[7]=(l*E-f*b+p*_)*t,e[8]=(s*j-u*S+c*x)*t,e[9]=(-n*j+i*S-o*x)*t,e[10]=(d*T-v*b+m*y)*t,e[11]=(-l*T+h*b-p*y)*t,e[12]=(-s*I+u*A-a*x)*t,e[13]=(n*I-i*A+r*x)*t,e[14]=(-d*w+v*_-g*y)*t,e[15]=(l*w-h*_+f*y)*t,e):null},translate:function(t,e,n,i){return t[12]=t[0]*e+t[4]*n+t[8]*i+t[12],t[13]=t[1]*e+t[5]*n+t[9]*i+t[13],t[14]=t[2]*e+t[6]*n+t[10]*i+t[14],t[15]=t[3]*e+t[7]*n+t[11]*i+t[15],t},scale:function(t,e,n,i){return t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=e,t[4]*=n,t[5]*=n,t[6]*=n,t[7]*=n,t[8]*=i,t[9]*=i,t[10]*=i,t[11]*=i,t},rotateX:function(t,e){var n=t,i=Math.sin(e),e=Math.cos(e),r=t[4],o=t[5],s=t[6],u=t[7],a=t[8],c=t[9],l=t[10],t=t[11];return n[4]=r*e+a*i,n[5]=o*e+c*i,n[6]=s*e+l*i,n[7]=u*e+t*i,n[8]=r*-i+a*e,n[9]=o*-i+c*e,n[10]=s*-i+l*e,n[11]=u*-i+t*e,n},rotateY:function(t,e){var n=t,i=Math.sin(e),e=Math.cos(e),r=t[0],o=t[1],s=t[2],u=t[3],a=t[8],c=t[9],l=t[10],t=t[11];return n[0]=r*e+a*-i,n[1]=o*e+c*-i,n[2]=s*e+l*-i,n[3]=u*e+t*-i,n[8]=r*i+a*e,n[9]=o*i+c*e,n[10]=s*i+l*e,n[11]=u*i+t*e,n},rotateZ:function(t,e){var n=t,i=Math.sin(e),e=Math.cos(e),r=t[0],o=t[1],s=t[2],u=t[3],a=t[4],c=t[5],l=t[6],t=t[7];return n[0]=r*e+a*i,n[1]=o*e+c*i,n[2]=s*e+l*i,n[3]=u*e+t*i,n[4]=r*-i+a*e,n[5]=o*-i+c*e,n[6]=s*-i+l*e,n[7]=u*-i+t*e,n},transformCoordinates:function(t,e,n,i){var r=t*i[0]+e*i[4]+n*i[8]+i[12],o=t*i[1]+e*i[5]+n*i[9]+i[13],s=t*i[2]+e*i[6]+n*i[10]+i[14],t=t*i[3]+e*i[7]+n*i[11]+i[15];return{x:r/t,y:o/t,z:s/t}},str:function(t){return"["+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+"]"}};t&&(t.setMatrixArrayType=function(t){return n=t},t.mat4=i)}(window),function(t,H,y){"use strict";function F(t,e,n){return setTimeout($(t,n),e)}function n(t,e,n){return Array.isArray(t)&&(r(t,n[e],n),1)}function r(t,e,n){if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==y)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(var i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function o(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)n&&t[i[r]]!==y||(t[i[r]]=e[i[r]]),r++;return t}function D(t,e){return o(t,e,!0)}function e(t,e,n){var e=e.prototype,i=t.prototype=Object.create(e);i.constructor=t,i._super=e,n&&o(i,n)}function $(t,e){return function(){return t.apply(e,arguments)}}function z(t,e){return typeof t==gt?t.apply(e&&e[0]||y,e):t}function L(t,e){return t===y?e:t}function i(e,t,n){r(a(t),function(t){e.addEventListener(t,n,!1)})}function s(e,t,n){r(a(t),function(t){e.removeEventListener(t,n,!1)})}function q(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function u(t,e){return-1<t.indexOf(e)}function a(t){return t.trim().split(/\s+/g)}function c(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function l(t){return Array.prototype.slice.call(t,0)}function U(t,n,e){for(var i=[],r=[],o=0;o<t.length;){var s=n?t[o][n]:t[o];c(r,s)<0&&i.push(t[o]),r[o]=s,o++}return i=e?n?i.sort(function(t,e){return t[n]>e[n]}):i.sort():i}function X(t,e){for(var n,i=e[0].toUpperCase()+e.slice(1),r=0;r<dt.length;){if((n=(n=dt[r])?n+i:e)in t)return n;r++}return y}function W(t){t=t.ownerDocument;return t.defaultView||t.parentWindow}function h(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){z(e.options.enable,[e])&&n.handler(t)},this.init()}function Y(t,e,n){var i,r,o,s,u,a,c=n.pointers.length,l=n.changedPointers.length,h=e&b&&c-l==0,c=e&(w|T)&&c-l==0,f=(n.isFirst=!!h,n.isFinal=!!c,h&&(t.session={}),n.eventType=e,l=n,h=(c=t).session,e=l.pointers,r=e.length,h.firstInput||(h.firstInput=B(l)),1<r&&!h.firstMultiple?h.firstMultiple=B(l):1===r&&(h.firstMultiple=!1),r=h.firstInput,o=h.firstMultiple,f=(o||r).center,p=l.center=V(e),l.timeStamp=mt(),l.deltaTime=l.timeStamp-r.timeStamp,l.angle=Z(f,p),l.distance=J(f,p),h),p=l,d=p.center,v=f.offsetDelta||{},g=f.prevDelta||{},m=f.prevInput||{},m=(p.eventType!==b&&m.eventType!==w||(g=f.prevDelta={x:m.deltaX||0,y:m.deltaY||0},v=f.offsetDelta={x:d.x,y:d.y}),p.deltaX=g.x+(d.x-v.x),p.deltaY=g.y+(d.y-v.y),l.offsetDirection=G(l.deltaX,l.deltaY),l.scale=o?function(t,e){return J(e[0],e[1],It)/J(t[0],t[1],It)}(o.pointers,e):1,l.rotation=o?function(t,e){return Z(e[1],e[0],It)-Z(t[1],t[0],It)}(o.pointers,e):0,h),f=l,p=m.lastInterval||f,g=f.timeStamp-p.timeStamp;f.eventType!=T&&(Et<g||p.velocity===y)?(i=p.deltaX-f.deltaX,d=p.deltaY-f.deltaY,g=function(t,e,n){return{x:e/t||0,y:n/t||0}}(g,i,d),u=g.x,a=g.y,s=_(g.x)>_(g.y)?g.x:g.y,i=G(i,d),m.lastInterval=f):(s=p.velocity,u=p.velocityX,a=p.velocityY,i=p.direction),f.velocity=s,f.velocityX=u,f.velocityY=a,f.direction=i,r=c.element,q(l.srcEvent.target,r)&&(r=l.srcEvent.target),l.target=r,t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function B(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:v(t.pointers[n].clientX),clientY:v(t.pointers[n].clientY)},n++;return{timeStamp:mt(),pointers:e,center:V(e),deltaX:t.deltaX,deltaY:t.deltaY}}function V(t){var e=t.length;if(1===e)return{x:v(t[0].clientX),y:v(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:v(n/e),y:v(i/e)}}function G(t,e){return t===e?xt:_(t)>=_(e)?0<t?m:E:0<e?x:A}function J(t,e,n){var i=e[(n=n||St)[0]]-t[n[0]],e=e[n[1]]-t[n[1]];return Math.sqrt(i*i+e*e)}function Z(t,e,n){var i=e[(n=n||St)[0]]-t[n[0]],e=e[n[1]]-t[n[1]];return 180*Math.atan2(e,i)/Math.PI}function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.allow=!0,this.pressed=!1,h.apply(this,arguments)}function Q(){this.evEl=Nt,this.evWin=Pt,h.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function tt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,h.apply(this,arguments)}function et(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},h.apply(this,arguments)}function nt(){h.apply(this,arguments);var t=$(this.handler,this);this.touch=new et(this.manager,t),this.mouse=new K(this.manager,t)}function it(t,e){this.manager=t,this.set(e)}function f(t){this.id=yt++,this.manager=null,this.options=D(t||{},this.defaults),this.options.enable=L(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function rt(t){return t==A?"down":t==x?"up":t==m?"left":t==E?"right":""}function ot(t,e){e=e.manager;return e?e.get(t):t}function p(){f.apply(this,arguments)}function st(){p.apply(this,arguments),this.pX=null,this.pY=null}function ut(){p.apply(this,arguments)}function at(){f.apply(this,arguments),this._timer=null,this._input=null}function ct(){p.apply(this,arguments)}function lt(){p.apply(this,arguments)}function ht(){f.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function d(t,e){return(e=e||{}).recognizers=L(e.recognizers,d.defaults.preset),new ft(t,e)}function ft(t,e){this.options=D(e=e||{},d.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=new((t=this).options.inputClass||(bt?Q:wt?et:_t?nt:K))(t,Y),this.touchAction=new it(this,this.options.touchAction),pt(this,!0),r(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function pt(t,n){var i=t.element;r(t.options.cssProps,function(t,e){i.style[X(i.style,e)]=n?t:""})}var dt=["","webkit","moz","MS","ms","o"],vt=H.createElement("div"),gt="function",v=Math.round,_=Math.abs,mt=Date.now,yt=1,_t="ontouchstart"in t,bt=X(t,"PointerEvent")!==y,wt=_t&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),g="touch",Tt="mouse",Et=25,b=1,w=4,T=8,xt=1,m=2,E=4,x=8,A=16,S=m|E,I=x|A,At=S|I,St=["x","y"],It=["clientX","clientY"],jt=(h.prototype={handler:function(){},init:function(){this.evEl&&i(this.element,this.evEl,this.domHandler),this.evTarget&&i(this.target,this.evTarget,this.domHandler),this.evWin&&i(W(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&s(this.element,this.evEl,this.domHandler),this.evTarget&&s(this.target,this.evTarget,this.domHandler),this.evWin&&s(W(this.element),this.evWin,this.domHandler)}},{mousedown:b,mousemove:2,mouseup:w}),Ot=(e(K,h,{handler:function(t){var e=jt[t.type];e&b&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=w),this.pressed&&this.allow&&(e&w&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Tt,srcEvent:t}))}}),{pointerdown:b,pointermove:2,pointerup:w,pointercancel:T,pointerout:T}),Rt={2:g,3:"pen",4:Tt,5:"kinect"},Nt="pointerdown",Pt="pointermove pointerup pointercancel",Mt=(t.MSPointerEvent&&(Nt="MSPointerDown",Pt="MSPointerMove MSPointerUp MSPointerCancel"),e(Q,h,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),i=Ot[i],r=Rt[t.pointerType]||t.pointerType,o=r==g,s=c(e,t.pointerId,"pointerId");i&b&&(0===t.button||o)?s<0&&(e.push(t),s=e.length-1):i&(w|T)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(s,1))}}),{touchstart:b,touchmove:2,touchend:w,touchcancel:T}),kt=(e(tt,h,{handler:function(t){var e,n=Mt[t.type];n===b&&(this.started=!0),this.started&&(e=function(t,e){var n=l(t.touches),t=l(t.changedTouches);return[n=e&(w|T)?U(n.concat(t),"identifier",!0):n,t]}.call(this,t,n),n&(w|T)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:e[0],changedPointers:e[1],pointerType:g,srcEvent:t}))}}),{touchstart:b,touchmove:2,touchend:w,touchcancel:T}),Ct=(e(et,h,{handler:function(t){var e=kt[t.type],n=function(t,e){var n=l(t.touches),i=this.targetIds;if(e&(2|b)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o=l(t.changedTouches),s=[],u=this.target,a=n.filter(function(t){return q(t.target,u)});if(e===b)for(r=0;r<a.length;)i[a[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&s.push(o[r]),e&(w|T)&&delete i[o[r].identifier],r++;return s.length?[U(a.concat(s),"identifier",!0),s]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:g,srcEvent:t})}}),e(nt,h,{handler:function(t,e,n){var i=n.pointerType==g,r=n.pointerType==Tt;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(w|T)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}}),X(vt.style,"touchAction")),Ht=Ct!==y,Ft="compute",Dt="manipulation",j="none",O="pan-x",R="pan-y",N=(it.prototype={set:function(t){t==Ft&&(t=this.compute()),Ht&&(this.manager.element.style[Ct]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[],t=(r(this.manager.recognizers,function(t){z(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),e.join(" "));if(u(t,j))return j;var n=u(t,O),i=u(t,R);return n&&i?O+" "+R:n||i?n?O:R:u(t,Dt)?Dt:"auto"},preventDefaults:function(t){if(!Ht){var e,n,i,r=t.srcEvent,t=t.offsetDirection;if(this.manager.session.prevented)r.preventDefault();else return i=this.actions,e=u(i,j),n=u(i,R),i=u(i,O),e||n&&t&S||i&&t&I?this.preventSrc(r):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},2),P=4,M=8,k=M,C=16;f.prototype={defaults:{},set:function(t){return o(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=ot(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)||(t=ot(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return-1===c(e,t=ot(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=ot(t,this);t=c(this.requireFail,t);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){function t(t){n.manager.emit(n.options.event+(t?(t=i)&C?"cancel":t&M?"end":t&P?"move":t&N?"start":"":""),e)}var n=this,i=this.state;i<M&&t(!0),t(),M<=i&&t(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){t=o({},t);return z(this.options.enable,[this,t])?(this.state&(k|C|32)&&(this.state=1),this.state=this.process(t),void(this.state&(N|P|M|C)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(){},getTouchAction:function(){},reset:function(){}},e(p,f,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(N|P),t=this.attrTest(t);return i&&(n&T||!t)?e|C:i||t?n&w?e|M:e&N?e|P:N:32}}),e(st,p,{defaults:{event:"pan",threshold:10,pointers:1,direction:At},getTouchAction:function(){var t=this.options.direction,e=[];return t&S&&e.push(R),t&I&&e.push(O),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(i=e.direction&S?(r=0===o?xt:o<0?m:E,n=o!=this.pX,Math.abs(t.deltaX)):(r=0===s?xt:s<0?x:A,n=s!=this.pY,Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return p.prototype.attrTest.call(this,t)&&(this.state&N||!(this.state&N)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=rt(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),e(ut,p,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[j]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&N)},emit:function(t){var e;this._super.emit.call(this,t),1!==t.scale&&(e=t.scale<1?"in":"out",this.manager.emit(this.options.event+e,t))}}),e(at,f,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(w|T)&&!r)this.reset();else if(t.eventType&b)this.reset(),this._timer=F(function(){this.state=k,this.tryEmit()},e.time,this);else if(t.eventType&w)return k;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===k&&(t&&t.eventType&w?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=mt(),this.manager.emit(this.options.event,this._input)))}}),e(ct,p,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[j]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&N)}}),e(lt,p,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:S|I,pointers:1},getTouchAction:function(){return st.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(S|I)?e=t.velocity:n&S?e=t.velocityX:n&I&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&_(e)>this.options.velocity&&t.eventType&w},emit:function(t){var e=rt(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),e(ht,f,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Dt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&b&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=w)return this.failTimeout();i=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||J(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&i?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=F(function(){this.state=k,this.tryEmit()},e.interval,this),N):k}return 32},failTimeout:function(){return this._timer=F(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==k&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),d.VERSION="2.0.4",d.defaults={domEvents:!1,touchAction:Ft,enable:!0,inputTarget:null,inputClass:null,preset:[[ct,{enable:!1}],[ut,{enable:!1},["rotate"]],[lt,{direction:S}],[st,{direction:S},["swipe"]],[ht],[ht,{event:"doubletap",taps:2},["tap"]],[at]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ft.prototype={set:function(t){return o(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r.state&k)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(N|P|M)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof f)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(n(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(c(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return r(a(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return r(a(t),function(t){e?n[t].splice(c(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&(n=t,i=e,(r=H.createEvent("Event")).initEvent(n,!0,!0),(r.gesture=i).target.dispatchEvent(r));var n,i,r,o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](e),s++}},destroy:function(){this.element&&pt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(d,{INPUT_START:b,INPUT_MOVE:2,INPUT_END:w,INPUT_CANCEL:T,STATE_POSSIBLE:1,STATE_BEGAN:N,STATE_CHANGED:P,STATE_ENDED:M,STATE_RECOGNIZED:k,STATE_CANCELLED:C,STATE_FAILED:32,DIRECTION_NONE:xt,DIRECTION_LEFT:m,DIRECTION_RIGHT:E,DIRECTION_UP:x,DIRECTION_DOWN:A,DIRECTION_HORIZONTAL:S,DIRECTION_VERTICAL:I,DIRECTION_ALL:At,Manager:ft,Input:h,TouchAction:it,TouchInput:et,MouseInput:K,PointerEventInput:Q,TouchMouseInput:nt,SingleTouchInput:tt,Recognizer:f,AttrRecognizer:p,Tap:ht,Pan:st,Swipe:lt,Pinch:ut,Rotate:ct,Press:at,on:i,off:s,each:r,merge:D,extend:o,inherit:e,bindFn:$,prefixed:X}),typeof define==gt&&define.amd?define(function(){return d}):"undefined"!=typeof module&&module.exports?module.exports=d:t.Hammer=d}(window,document);